<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 4 Summary Migration Indices | Handling, Measuring, Estimating and Visualizing Migration Data in R</title>
  <meta name="description" content="In many countries and regions, migration is becoming or already is the largest component of population change. However, migration data is often of poor quality, missing or provided without disaggregation. Methods to estimate migration have been developed by demographers and alike to help address shortfalls and provide a platform to better understand migration patterns and trends. This manaul explores methods for measuring, estimating and visualising migration, and their implementation in R. Readers will become familiar with useful R functions for handling migration data, a range of measures to summarise and compare migration systems, common estimation methods to overcome inadequate or missing migration data and recently developed methods to visualize migration patterns. Code samples and exercises are provided throughout the manual to build up the readers experience. Some prior knowledge is required on how to handle and plot data using the tidyverse set of R packages." />
  <meta name="generator" content="bookdown 0.33 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 4 Summary Migration Indices | Handling, Measuring, Estimating and Visualizing Migration Data in R" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="In many countries and regions, migration is becoming or already is the largest component of population change. However, migration data is often of poor quality, missing or provided without disaggregation. Methods to estimate migration have been developed by demographers and alike to help address shortfalls and provide a platform to better understand migration patterns and trends. This manaul explores methods for measuring, estimating and visualising migration, and their implementation in R. Readers will become familiar with useful R functions for handling migration data, a range of measures to summarise and compare migration systems, common estimation methods to overcome inadequate or missing migration data and recently developed methods to visualize migration patterns. Code samples and exercises are provided throughout the manual to build up the readers experience. Some prior knowledge is required on how to handle and plot data using the tidyverse set of R packages." />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 Summary Migration Indices | Handling, Measuring, Estimating and Visualizing Migration Data in R" />
  
  <meta name="twitter:description" content="In many countries and regions, migration is becoming or already is the largest component of population change. However, migration data is often of poor quality, missing or provided without disaggregation. Methods to estimate migration have been developed by demographers and alike to help address shortfalls and provide a platform to better understand migration patterns and trends. This manaul explores methods for measuring, estimating and visualising migration, and their implementation in R. Readers will become familiar with useful R functions for handling migration data, a range of measures to summarise and compare migration systems, common estimation methods to overcome inadequate or missing migration data and recently developed methods to visualize migration patterns. Code samples and exercises are provided throughout the manual to build up the readers experience. Some prior knowledge is required on how to handle and plot data using the tidyverse set of R packages." />
  

<meta name="author" content="Guy J. Abel, James Raymer, Ellen Kraly" />


<meta name="date" content="2023-05-21" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="handling-migration-data-in-r.html"/>

<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Migration in R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="migration-concepts.html"><a href="migration-concepts.html"><i class="fa fa-check"></i><b>2</b> Migration Concepts</a>
<ul>
<li class="chapter" data-level="2.1" data-path="migration-concepts.html"><a href="migration-concepts.html#spatial"><i class="fa fa-check"></i><b>2.1</b> Spatial</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="migration-concepts.html"><a href="migration-concepts.html#usual-residence"><i class="fa fa-check"></i><b>2.1.1</b> Usual Residence</a></li>
<li class="chapter" data-level="2.1.2" data-path="migration-concepts.html"><a href="migration-concepts.html#migration-data-types"><i class="fa fa-check"></i><b>2.1.2</b> Migration Data Types</a></li>
<li class="chapter" data-level="2.1.3" data-path="migration-concepts.html"><a href="migration-concepts.html#migrant-transition-data"><i class="fa fa-check"></i><b>2.1.3</b> Migrant Transition Data</a></li>
<li class="chapter" data-level="2.1.4" data-path="migration-concepts.html"><a href="migration-concepts.html#migation-event-data"><i class="fa fa-check"></i><b>2.1.4</b> Migation Event Data</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="migration-concepts.html"><a href="migration-concepts.html#temporal"><i class="fa fa-check"></i><b>2.2</b> Temporal</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="migration-concepts.html"><a href="migration-concepts.html#migration-interval"><i class="fa fa-check"></i><b>2.2.1</b> Migration Interval</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="migration-concepts.html"><a href="migration-concepts.html#migration-measures"><i class="fa fa-check"></i><b>2.3</b> Migration Measures</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="migration-concepts.html"><a href="migration-concepts.html#region-to-region"><i class="fa fa-check"></i><b>2.3.1</b> Region-to-region</a></li>
<li class="chapter" data-level="2.3.2" data-path="migration-concepts.html"><a href="migration-concepts.html#region-totals"><i class="fa fa-check"></i><b>2.3.2</b> Region Totals</a></li>
<li class="chapter" data-level="2.3.3" data-path="migration-concepts.html"><a href="migration-concepts.html#rate-measures"><i class="fa fa-check"></i><b>2.3.3</b> Rate measures</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="migration-concepts.html"><a href="migration-concepts.html#references"><i class="fa fa-check"></i><b>2.4</b> References</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="handling-migration-data-in-r.html"><a href="handling-migration-data-in-r.html"><i class="fa fa-check"></i><b>3</b> Handling Migration Data in R</a>
<ul>
<li class="chapter" data-level="3.1" data-path="handling-migration-data-in-r.html"><a href="handling-migration-data-in-r.html#contingency-table"><i class="fa fa-check"></i><b>3.1</b> Contingency Table</a></li>
<li class="chapter" data-level="3.2" data-path="handling-migration-data-in-r.html"><a href="handling-migration-data-in-r.html#data-creation"><i class="fa fa-check"></i><b>3.2</b> Data Creation</a></li>
<li class="chapter" data-level="3.3" data-path="handling-migration-data-in-r.html"><a href="handling-migration-data-in-r.html#data-manipulation"><i class="fa fa-check"></i><b>3.3</b> Data Manipulation</a></li>
<li class="chapter" data-level="3.4" data-path="handling-migration-data-in-r.html"><a href="handling-migration-data-in-r.html#matrix-operations"><i class="fa fa-check"></i><b>3.4</b> Matrix Operations</a></li>
<li class="chapter" data-level="3.5" data-path="handling-migration-data-in-r.html"><a href="handling-migration-data-in-r.html#summaries"><i class="fa fa-check"></i><b>3.5</b> Summaries</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="handling-migration-data-in-r.html"><a href="handling-migration-data-in-r.html#bilateral-measures"><i class="fa fa-check"></i><b>3.5.1</b> Bilateral measures</a></li>
<li class="chapter" data-level="3.5.2" data-path="handling-migration-data-in-r.html"><a href="handling-migration-data-in-r.html#total-measures"><i class="fa fa-check"></i><b>3.5.2</b> Total Measures</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="summary-migration-indices.html"><a href="summary-migration-indices.html"><i class="fa fa-check"></i><b>4</b> Summary Migration Indices</a>
<ul>
<li class="chapter" data-level="4.1" data-path="summary-migration-indices.html"><a href="summary-migration-indices.html#migration-intensity"><i class="fa fa-check"></i><b>4.1</b> Migration intensity</a></li>
<li class="chapter" data-level="4.2" data-path="summary-migration-indices.html"><a href="summary-migration-indices.html#migration-distance"><i class="fa fa-check"></i><b>4.2</b> Migration distance</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="summary-migration-indices.html"><a href="summary-migration-indices.html#creating-distance-matrices-in-r"><i class="fa fa-check"></i><b>4.2.1</b> Creating distance matrices in R</a></li>
<li class="chapter" data-level="4.2.2" data-path="summary-migration-indices.html"><a href="summary-migration-indices.html#migration-distance-measures"><i class="fa fa-check"></i><b>4.2.2</b> Migration Distance Measures</a></li>
<li class="chapter" data-level="4.2.3" data-path="summary-migration-indices.html"><a href="summary-migration-indices.html#migration-distance-measures-in-r"><i class="fa fa-check"></i><b>4.2.3</b> Migration Distance Measures in R</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="summary-migration-indices.html"><a href="summary-migration-indices.html#migration-connectivity"><i class="fa fa-check"></i><b>4.3</b> Migration connectivity</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="summary-migration-indices.html"><a href="summary-migration-indices.html#connectivity"><i class="fa fa-check"></i><b>4.3.1</b> Connectivity</a></li>
<li class="chapter" data-level="4.3.2" data-path="summary-migration-indices.html"><a href="summary-migration-indices.html#inequality"><i class="fa fa-check"></i><b>4.3.2</b> Inequality</a></li>
<li class="chapter" data-level="4.3.3" data-path="summary-migration-indices.html"><a href="summary-migration-indices.html#gini-measures"><i class="fa fa-check"></i><b>4.3.3</b> Gini measures</a></li>
<li class="chapter" data-level="4.3.4" data-path="summary-migration-indices.html"><a href="summary-migration-indices.html#spatial-focusing"><i class="fa fa-check"></i><b>4.3.4</b> Spatial Focusing</a></li>
<li class="chapter" data-level="4.3.5" data-path="summary-migration-indices.html"><a href="summary-migration-indices.html#coefficient-of-variation"><i class="fa fa-check"></i><b>4.3.5</b> Coefficient of Variation</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="summary-migration-indices.html"><a href="summary-migration-indices.html#migration-impact"><i class="fa fa-check"></i><b>4.4</b> Migration impact</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="summary-migration-indices.html"><a href="summary-migration-indices.html#migration-effectiveness-index"><i class="fa fa-check"></i><b>4.4.1</b> Migration effectiveness index</a></li>
<li class="chapter" data-level="4.4.2" data-path="summary-migration-indices.html"><a href="summary-migration-indices.html#aggregate-net-migration-rate"><i class="fa fa-check"></i><b>4.4.2</b> Aggregate net migration rate</a></li>
<li class="chapter" data-level="4.4.3" data-path="summary-migration-indices.html"><a href="summary-migration-indices.html#preference-and-velocity"><i class="fa fa-check"></i><b>4.4.3</b> Preference and velocity</a></li>
<li class="chapter" data-level="4.4.4" data-path="summary-migration-indices.html"><a href="summary-migration-indices.html#migration-impact-measures-in-r"><i class="fa fa-check"></i><b>4.4.4</b> Migration Impact Measures in R</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="summary-migration-indices.html"><a href="summary-migration-indices.html#applying-index-functions-multiple-times"><i class="fa fa-check"></i><b>4.5</b> Applying index functions multiple times</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Handling, Measuring, Estimating and Visualizing Migration Data in R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="summary-migration-indices" class="section level1 hasAnchor" number="4">
<h1><span class="header-section-number">Chapter 4</span> Summary Migration Indices<a href="summary-migration-indices.html#summary-migration-indices" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Migration analysis, particularly regarding cross national comparisons of migration, has received relatively far less attention compared to studies on other the other demographic components of population change. This disparity is partly due to the complexity involved in comparing migration data and patterns across nations, regions and over time. Several factors contribute to the intricacy of such comparisons:</p>
<ol style="list-style-type: decimal">
<li><p><strong>Diverse Definitions of Migration</strong>: Nations may employ different definitions of migration, which might alter over time, making it challenging to establish consistent criteria for measuring and comparing migration accurately.</p></li>
<li><p><strong>Variations in Data Collection Systems</strong>: The methods and systems used for collecting migration data can differ among countries, further complicating comparisons. Discrepancies in data collection practices can affect the quality, coverage, and reliability of migration statistics.</p></li>
<li><p><strong>Heterogeneous Regional Sizes</strong>: Spatial units, such as regions or administrative divisions, vary in size across countries. This variation in regional scales can influence the interpretation and analysis of migration patterns, as migration rates may be influenced by the size of the areas being studied.</p></li>
<li><p><strong>Changing Number of Regions</strong>: The number of regions within a country may change over time due to administrative or political reforms. Such changes can disrupt the continuity and consistency of migration data, making it challenging to track migration trends accurately.</p></li>
<li><p><strong>Diverse Approaches to Distance Measurement</strong>: Different regions or countries may adopt varying methods to measure distances between locations. These differences can impact migration analyses that rely on distance-based measures, such as gravity model analyses.</p></li>
<li><p><strong>Fluctuations in Population Sizes and Structures</strong>: The underlying population sizes and demographic structures of regions or countries can change over time. These changes can influence migration patterns and introduce additional complexities when comparing migration data across different time periods or geographic areas.</p></li>
</ol>
<p>Given these factors, it is important to consider the contextual nuances and data issues when conducting cross-national or temporal comparisons of migration. In recent decades a growing number of summary migration measures and indices have been proposed to attempt to address one or more of the factors above. <span class="citation">Bell et al. (<a href="#ref-Bell2002" role="doc-biblioref">2002</a>)</span> brought together many of these measure and extended others to help facilitate the improved comparisons of internal migration across nations. These measures were incorporated into the IMAGE software, to build comparisons of internal migration patterns in multiple countries <span class="citation">Bell, Charles-Edwards, Ueffing, et al. (<a href="#ref-Bell2015" role="doc-biblioref">2015</a>)</span>, <span class="citation">Bell, Charles-Edwards, Kupiszewska, et al. (<a href="#ref-Bell2015a" role="doc-biblioref">2015</a>)</span>, <span class="citation">Stillwell et al. (<a href="#ref-Stillwell2016" role="doc-biblioref">2016</a>)</span>, <span class="citation">Rees et al. (<a href="#ref-Rees2016" role="doc-biblioref">2016</a>)</span>, and <span class="citation">Bernard, Bell, and Charles-Edwards (<a href="#ref-Bernard2014" role="doc-biblioref">2014</a>)</span>.</p>
<p>In the work of <span class="citation">Bell et al. (<a href="#ref-Bell2002" role="doc-biblioref">2002</a>)</span>, four main groups of migration indices were identified, providing a comprehensive framework for understanding and analyzing migration patterns. These groups include intensity of migration, distance of migration, migration connectivity, and the effect of migration on the redistribution of populations. In the remainder of this chapter we concentrate on available functions in R that can be used to calculate a range of summary migration indices in these four groups, and show how they can be applied to study changes in migration patterns over time or between countries.</p>
<div id="migration-intensity" class="section level2 hasAnchor" number="4.1">
<h2><span class="header-section-number">4.1</span> Migration intensity<a href="summary-migration-indices.html#migration-intensity" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Migration intensity measures focus on capturing the overall level or incidence of mobility within a population. These measures aim to provide a single indicator that allows for comparisons of migration intensities over different time periods or geographical areas. They help researchers understand the relative magnitude of migration flows and sets of regions or periods with higher or lower levels of migration activity.</p>
<p>There are a number of age-specific migration intensity measures, that summarise how migration varies across different age groups. We will leave our discussion on these age-specific migration measures to the subsequent chapter on age schedules, where we introduce related migration age schedules that are used in the calculation of some summary indicies.</p>
<p>Crude migration intensity is a straightforward measure that provides an indication of the overall propensity to migrate within a population, similar to how crude birth or death rates reflect the overall incidence of births or deaths. When migration transition data is available, the crude migration probability (CMP) can be calculated to estimate the likelihood of migration over the total population;
<span class="math display">\[
\texttt{CMP} = 100 M/P
\]</span>
The CMP is calculated by dividing the total number of migrants (<span class="math inline">\(M\)</span>) in a specific time period by the population at risk (<span class="math inline">\(P\)</span>) during that same period. The result is then multiplied by 100 to express it as a percentage.</p>
<p>In the study by Courgeau (1973), the relationship between the intensity of migration and the number of regions in a country was examined. It was proposed that the crude migration probability (CMP) can be expressed as a function of the number of regions, denoted as ‘n’, and a constant ‘k’.
<span class="math display">\[
\texttt{CMP} = k \log (n^2)
\]</span>
The value of <span class="math inline">\(k\)</span> in Courgeau’s formula does not have an intrinsic meaning by itself. However, it serves as a scaling factor that allows for comparisons of migration intensity across zonal systems or administrative divisions used to collect migration data. A higher value of <span class="math inline">\(k\)</span> indicates a greater intensity of migration within a set of regions.</p>
<p>The <em>migest</em> package offers the <code>index_intensity()</code> function, which facilitates the calculation of migration intensity measures. This function takes a migration and population totals as inputs, alongside a value for the number of regions <code>n</code>, and calculates both intensity measures discussed above.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="summary-migration-indices.html#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(migest)</span>
<span id="cb1-2"><a href="summary-migration-indices.html#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">index_intensity</span>(<span class="at">mig_total =</span> <span class="dv">25</span>, <span class="at">pop_total =</span> <span class="dv">52</span>, <span class="at">n =</span> <span class="dv">17</span>)</span></code></pre></div>
<pre><code>## # A tibble: 2 × 2
##   measure    value
##   &lt;chr&gt;      &lt;dbl&gt;
## 1 cmp        48.1 
## 2 courgeau_k  8.48</code></pre>
</div>
<div id="migration-distance" class="section level2 hasAnchor" number="4.2">
<h2><span class="header-section-number">4.2</span> Migration distance<a href="summary-migration-indices.html#migration-distance" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>When comparing migration patterns across different regions, it is important to consider the variations in the intensity of movement across space. Migration is a spatial activity that involves movements between specific locations, and different regions may exhibit varying levels of migration intensity. To capture the effects of distance within a migration system, several measures have been developed.</p>
<p>Measuring the distance between regions is not a straightforward task. Ideally, we would want to measure the typical distance that migrants travel. One commonly used approximation is the straight-line distance between the population-weighted centroids of each region. This approach provides a reasonable estimate of average distances moved along a migration corridor, taking into account the spatial distribution of population within each region.</p>
<p>The costs faced by migrants may not be accurately represented by the inter-centroid distance alone. There are several factors that can complicate distance measurements. For example, regions located near borders may have centroids that exaggerate the actual distance between them. Regions can vary significantly in shape and size, making it challenging to capture the true distance between them. Additionally, features such as indented coastlines can create cultural and travel cost differences, impacting migration patterns.</p>
<div id="creating-distance-matrices-in-r" class="section level3 hasAnchor" number="4.2.1">
<h3><span class="header-section-number">4.2.1</span> Creating distance matrices in R<a href="summary-migration-indices.html#creating-distance-matrices-in-r" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In R, there are various functions available to calculate distance matrices, which are can then be used when analyzing migration patterns. These functions typically require a set of longitude and latitude coordinates to compute the distances between locations accurately. While some national statistics offices may provide these centroids, in many cases such data is not readily available. In such situations, researchers can turn to alternative sources for population-weighted centroid estimates based on gridded population estimates.</p>
<p>The <a href="https://www.popgrid.org/">POPGRID</a> Data Collaborative brings together multiple research groups that publish estimates of past and future population gridded datasets. These estimates can be used to derive population-weighted centroids and facilitate the calculation of distance matrices for migration analysis.</p>
<p>Below we demonstrate how to download the population centroids from the WorldPop, one of the research groups covered by POPGRID. They handily provide CSV files for population centriods for all first-level subregions based on the global population gridded estimates in five-year intervals between 2000 and 2020 (<span class="citation">Edwards et al. (<a href="#ref-Edwards2021" role="doc-biblioref">2021</a>)</span>). We can read in the data in the 2020 CSV file (the fifth file in the zip folder) using the <code>archive_read</code> function in R to download the zip folder from the WorldPop website and temporarily unzip the file for reading into R.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="summary-migration-indices.html#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb3-2"><a href="summary-migration-indices.html#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(archive)</span>
<span id="cb3-3"><a href="summary-migration-indices.html#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="summary-migration-indices.html#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co"># read in data</span></span>
<span id="cb3-5"><a href="summary-migration-indices.html#cb3-5" aria-hidden="true" tabindex="-1"></a>pw <span class="ot">&lt;-</span> <span class="fu">archive_read</span>(</span>
<span id="cb3-6"><a href="summary-migration-indices.html#cb3-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">archive =</span> <span class="st">&quot;https://data.worldpop.org/GIS/Population_Weighted_Density/Unconstrained_Subnational/100m/PWD_100m_sub_national_CSV.zip&quot;</span>,</span>
<span id="cb3-7"><a href="summary-migration-indices.html#cb3-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">file =</span> <span class="dv">5</span></span>
<span id="cb3-8"><a href="summary-migration-indices.html#cb3-8" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb3-9"><a href="summary-migration-indices.html#cb3-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">read_csv</span>()</span>
<span id="cb3-10"><a href="summary-migration-indices.html#cb3-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-11"><a href="summary-migration-indices.html#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="co"># view</span></span>
<span id="cb3-12"><a href="summary-migration-indices.html#cb3-12" aria-hidden="true" tabindex="-1"></a>pw</span></code></pre></div>
<pre><code>## # A tibble: 3,521 × 25
##     year ISO   ISO_No Country_N Adm_N GID_1 HASC  PWC_Lat PWC_Lon    Pop Density
##    &lt;dbl&gt; &lt;chr&gt;  &lt;dbl&gt; &lt;chr&gt;     &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;   &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;
##  1  2020 RUS      643 Russia    Adyg… RUS.… RU.AD    44.8    39.8 5.13e5    66.4
##  2  2020 RUS      643 Russia    Altay RUS.… RU.AL    52.8    83.0 2.28e6    13.9
##  3  2020 RUS      643 Russia    Amur  RUS.… RU.AM    51.2   128.  7.75e5     2.2
##  4  2020 RUS      643 Russia    Arkh… RUS.… RU.AR    63.4    41.8 1.10e6     2.8
##  5  2020 RUS      643 Russia    Astr… RUS.… RU.AS    46.6    47.8 1.04e6    23.5
##  6  2020 RUS      643 Russia    Bash… RUS.… RU.BK    54.4    55.9 4.17e6    29.2
##  7  2020 RUS      643 Russia    Belg… RUS.… RU.BL    50.8    37.2 1.63e6    57.7
##  8  2020 RUS      643 Russia    Brya… RUS.… RU.BR    53.0    33.7 1.20e6    35.3
##  9  2020 RUS      643 Russia    Bury… RUS.… RU.BU    52.0   108.  9.96e5     3  
## 10  2020 RUS      643 Russia    Chec… RUS.… RU.CN    43.3    45.8 1.49e6    99  
## # … with 3,511 more rows, and 14 more variables: Area &lt;dbl&gt;, PWD_A &lt;dbl&gt;,
## #   PWD_G &lt;dbl&gt;, PWD_M &lt;dbl&gt;, PWD_D1 &lt;dbl&gt;, PWD_D2 &lt;dbl&gt;, PWD_D3 &lt;dbl&gt;,
## #   PWD_D4 &lt;dbl&gt;, PWD_D5 &lt;dbl&gt;, PWD_D6 &lt;dbl&gt;, PWD_D7 &lt;dbl&gt;, PWD_D8 &lt;dbl&gt;,
## #   PWD_D9 &lt;dbl&gt;, PWD_D10 &lt;dbl&gt;</code></pre>
<p>We will use South Korea to demonstrate how calcaulte a populated weighted distance matrix for regions in a particular country</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="summary-migration-indices.html#cb5-1" aria-hidden="true" tabindex="-1"></a>kor_pw <span class="ot">&lt;-</span> pw <span class="sc">%&gt;%</span></span>
<span id="cb5-2"><a href="summary-migration-indices.html#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(ISO <span class="sc">==</span> <span class="st">&quot;KOR&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb5-3"><a href="summary-migration-indices.html#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Adm_N, PWC_Lat, PWC_Lon, Pop)</span>
<span id="cb5-4"><a href="summary-migration-indices.html#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="summary-migration-indices.html#cb5-5" aria-hidden="true" tabindex="-1"></a>kor_pw</span></code></pre></div>
<pre><code>## # A tibble: 17 × 4
##    Adm_N             PWC_Lat PWC_Lon      Pop
##    &lt;chr&gt;               &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt;
##  1 Busan                35.2    129.  2925666
##  2 Chungcheongbuk-do    36.7    128.  1629527
##  3 Chungcheongnam-do    36.7    127.  2049544
##  4 Daegu                35.8    129.  2098338
##  5 Daejeon              36.3    127.  1595088
##  6 Gangwon-do           37.7    128.  1446914
##  7 Gwangju              35.2    127.  1396761
##  8 Gyeonggi-do          37.4    127. 15014585
##  9 Gyeongsangbuk-do     36.1    129.  2805942
## 10 Gyeongsangnam-do     35.2    129.  3444121
## 11 Incheon              37.4    127.  2964572
## 12 Jeju                 33.4    127.   564353
## 13 Jeollabuk-do         35.8    127.  1641019
## 14 Jeollanam-do         34.9    127.  1703339
## 15 Sejong               36.5    127.    61443
## 16 Seoul                37.5    127.  8889778
## 17 Ulsan                35.5    129.  1038185</code></pre>
<p>The calculation of distances between centroids can calcualted using the <code>distm()</code> function from the <em>geosphere</em> package. By providing the longitude and latitude coordinates of the centroids, the function can estimate the great circle distance between them in meters.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="summary-migration-indices.html#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(geosphere)</span>
<span id="cb7-2"><a href="summary-migration-indices.html#cb7-2" aria-hidden="true" tabindex="-1"></a>kor_dist_pw <span class="ot">&lt;-</span> kor_pw <span class="sc">%&gt;%</span></span>
<span id="cb7-3"><a href="summary-migration-indices.html#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(PWC_Lon, PWC_Lat) <span class="sc">%&gt;%</span></span>
<span id="cb7-4"><a href="summary-migration-indices.html#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distm</span>()</span></code></pre></div>
<p>To enhance the usability of the distance matrix, you can add the names of the origin and destination regions to the rows and columns of the matrix using the <code>dimnames()</code> function. Additionally, the distances can be divided by 1000 to convert them from meters to kilometers. These manipulations allow you to easily combine the distance matrix with migration data or perform further analyses and interpolate the results.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="summary-migration-indices.html#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dimnames</span>(kor_dist_pw) <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">orig =</span> kor_pw<span class="sc">$</span>Adm_N, <span class="at">dest =</span> kor_pw<span class="sc">$</span>Adm_N)</span>
<span id="cb8-2"><a href="summary-migration-indices.html#cb8-2" aria-hidden="true" tabindex="-1"></a>kor_dist_pw <span class="ot">&lt;-</span> <span class="fu">round</span>(kor_dist_pw<span class="sc">/</span><span class="dv">1000</span>)</span>
<span id="cb8-3"><a href="summary-migration-indices.html#cb8-3" aria-hidden="true" tabindex="-1"></a>kor_dist_pw</span></code></pre></div>
<pre><code>##                    dest
## orig                Busan Chungcheongbuk-do Chungcheongnam-do Daegu Daejeon
##   Busan                 0               216               255    88     201
##   Chungcheongbuk-do   216                 0                58   130      45
##   Chungcheongnam-do   255                58                 0   174      54
##   Daegu                88               130               174     0     122
##   Daejeon             201                45                54   122       0
##   Gangwon-do          286               122               159   203     166
##   Gwangju             202               184               170   175     139
##   Gyeonggi-do         312                96                83   225     125
##   Gyeongsangbuk-do    107               125               176    32     128
##   Gyeongsangnam-do     43               190               222    72     168
##   Incheon             328               111                85   242     134
##   Jeju                306               381               368   333     337
##   Jeollabuk-do        201               111                96   143      66
##   Jeollanam-do        190               205               197   177     162
##   Sejong              222                37                34   141      22
##   Seoul               324               108                95   236     138
##   Ulsan                47               203               250    76     198
##                    dest
## orig                Gangwon-do Gwangju Gyeonggi-do Gyeongsangbuk-do
##   Busan                    286     202         312              107
##   Chungcheongbuk-do        122     184          96              125
##   Chungcheongnam-do        159     170          83              176
##   Daegu                    203     175         225               32
##   Daejeon                  166     139         125              128
##   Gangwon-do                 0     305         114              179
##   Gwangju                  305       0         252              202
##   Gyeonggi-do              114     252           0              215
##   Gyeongsangbuk-do         179     202         215                0
##   Gyeongsangnam-do         275     159         285              101
##   Incheon                  137     253          24              234
##   Jeju                     500     199         451              365
##   Jeollabuk-do             232      75         178              161
##   Jeollanam-do             325      31         279              207
##   Sejong                   155     155         104              143
##   Seoul                    113     265          13              226
##   Ulsan                    255     229         296               81
##                    dest
## orig                Gyeongsangnam-do Incheon Jeju Jeollabuk-do Jeollanam-do
##   Busan                           43     328  306          201          190
##   Chungcheongbuk-do              190     111  381          111          205
##   Chungcheongnam-do              222      85  368           96          197
##   Daegu                           72     242  333          143          177
##   Daejeon                        168     134  337           66          162
##   Gangwon-do                     275     137  500          232          325
##   Gwangju                        159     253  199           75           31
##   Gyeonggi-do                    285      24  451          178          279
##   Gyeongsangbuk-do               101     234  365          161          207
##   Gyeongsangnam-do                 0     299  277          160          148
##   Incheon                        299       0  450          180          281
##   Jeju                           277     450    0          275          176
##   Jeollabuk-do                   160     180  275            0          101
##   Jeollanam-do                   148     281  176          101            0
##   Sejong                         190     112  353           79          179
##   Seoul                          298      25  464          191          292
##   Ulsan                           76     314  351          212          222
##                    dest
## orig                Sejong Seoul Ulsan
##   Busan                222   324    47
##   Chungcheongbuk-do     37   108   203
##   Chungcheongnam-do     34    95   250
##   Daegu                141   236    76
##   Daejeon               22   138   198
##   Gangwon-do           155   113   255
##   Gwangju              155   265   229
##   Gyeonggi-do          104    13   296
##   Gyeongsangbuk-do     143   226    81
##   Gyeongsangnam-do     190   298    76
##   Incheon              112    25   314
##   Jeju                 353   464   351
##   Jeollabuk-do          79   191   212
##   Jeollanam-do         179   292   222
##   Sejong                 0   117   216
##   Seoul                117     0   307
##   Ulsan                216   307     0</code></pre>
</div>
<div id="migration-distance-measures" class="section level3 hasAnchor" number="4.2.2">
<h3><span class="header-section-number">4.2.2</span> Migration Distance Measures<a href="summary-migration-indices.html#migration-distance-measures" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>To capture the average migration distance and account for the skewed distribution of distances, various methods can be employed. One approach is to calculate the weighted average of migration counts, where the distances between regions serve as the weights. This provides a summary measure of the average migration distance, taking into account the varying distances between origin and destination pairs.</p>
<p><span class="citation">Bell et al. (<a href="#ref-Bell2002" role="doc-biblioref">2002</a>)</span> suggests that the median average distance is preferable to the mean average distance due to the negatively skewed distribution of distances. This skewness reflects the distance decay effect, which consistently influences migration patterns. Comparing the median and mean average distances can provide insights into the degree of skewness in the distribution.</p>
<p>To address the skewness and model the relationship between migration counts and distances, a more comprehensive method involves fitting a predictive model. Different models can be utilized, often incorporating a log-transformed distance term and categorical control variables for the origin and destination regions. For example, a Poisson log-linear model can be employed, where the logarithm of the migration count (<span class="math inline">\(m_{ij}\)</span>) is related to the origin, destination, and log-distance as follows:</p>
<p><span class="math display">\[
\log(m_{ij}) = \beta_0 + \beta_{1i} \texttt{origin} + \beta_{2j} \texttt{destination} + \beta_{3} \log(\texttt{distance})
\]</span></p>
<p>The parameter of interest in this equation is the distance decay parameter (<span class="math inline">\(\beta_3\)</span>), which indicates the impact of distance on migration. The distance decay parameter is typically negative, implying that an increase in distance leads to a decrease in predicted migration. The set of parameters <span class="math inline">\(\beta_{1i}\)</span> and <span class="math inline">\(\beta_{2j}\)</span> represent the push and pull factors specific to each region, capturing the factors influencing migration behavior.</p>
</div>
<div id="migration-distance-measures-in-r" class="section level3 hasAnchor" number="4.2.3">
<h3><span class="header-section-number">4.2.3</span> Migration Distance Measures in R<a href="summary-migration-indices.html#migration-distance-measures-in-r" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The <em>migest</em> package in R provides the <code>index_distance()</code> function, which allows you to calculate three summary distance measures based on a set of migration flows and corresponding distance values between each origin and destination.</p>
<p>To use the function, you can provide the origin-destination migration flows as either a matrix or a data frame. If using a data frame, the column names are expected to be <code>orig</code>, <code>dest</code>, and <code>flow</code>. However, you have the flexibility to specify different column names using the <code>orig_col</code>, <code>dest_col</code>, and <code>flow_col</code> arguments.</p>
<p>Similarly, the distance values can be provided as a matrix or a data frame. The column names in the distance data are assumed to be <code>orig</code>, <code>dest</code>, and <code>dist</code>. Just like with migration flows, you can customize the column names using the appropriate arguments.</p>
<p>It is important to note that the origin and destination names in both the migration data and the distance data must match for accurate calculations. In cases where within-region migration moves are present in the data, the <code>index_distance()</code> function will automatically exclude them from the distance calculations.</p>
<p>To demonstrate we will use migration data on internal migration between first-level administrative districts in South Korea provide in the <code>korea_reg</code> data frame in the <em>migest</em>. The data covers migration flows between 2012 and 2020 and was published by the Korean Statistical Information Service (KOSIS) at <a href="https://kosis.kr/eng" class="uri">https://kosis.kr/eng</a>.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="summary-migration-indices.html#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 2020 migration data</span></span>
<span id="cb10-2"><a href="summary-migration-indices.html#cb10-2" aria-hidden="true" tabindex="-1"></a>kor_mig_2020 <span class="ot">&lt;-</span> korea_reg <span class="sc">%&gt;%</span></span>
<span id="cb10-3"><a href="summary-migration-indices.html#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">==</span> <span class="dv">2020</span>)</span>
<span id="cb10-4"><a href="summary-migration-indices.html#cb10-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-5"><a href="summary-migration-indices.html#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="co"># check no differences in names used in migration and distance data sets</span></span>
<span id="cb10-6"><a href="summary-migration-indices.html#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="fu">symdiff</span>(<span class="at">x =</span> <span class="fu">unique</span>(kor_mig_2020<span class="sc">$</span>orig), <span class="at">y =</span> kor_pw<span class="sc">$</span>Adm_N)</span></code></pre></div>
<pre><code>## character(0)</code></pre>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="summary-migration-indices.html#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">index_distance</span>(<span class="at">m =</span> kor_mig_2020, <span class="at">d =</span> kor_dist_pw)</span></code></pre></div>
<pre><code>## # A tibble: 3 × 2
##   measure   value
##   &lt;chr&gt;     &lt;dbl&gt;
## 1 mean    105.   
## 2 median   68.7  
## 3 decay    -0.852</code></pre>
</div>
</div>
<div id="migration-connectivity" class="section level2 hasAnchor" number="4.3">
<h2><span class="header-section-number">4.3</span> Migration connectivity<a href="summary-migration-indices.html#migration-connectivity" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The size of migration flows between different migration corridors is influenced by various factors beyond population sizes and distances. These flows also reflect the strength of historical, cultural, social, and economic ties between regions. For example, regions with stronger connections may experience higher migration flows due to shared history, language, or economic opportunities.</p>
<p><span class="citation">Bell et al. (<a href="#ref-Bell2002" role="doc-biblioref">2002</a>)</span> note a fragmentation in the literature on the measurement of connections within a migration system, leading to the use of different terms such as <em>spatial connectivity</em>, <em>spatial concentration</em>, <em>spatial inequality</em>, and <em>spatial focusing</em>, among others. These terms highlight the diverse aspects of migration connections and the different perspectives from which they have be studied.</p>
<p>To explore and analyze migration connectivity, there are numerous indices available. The <em>migration.indices</em> package, for instance, provides a range of indices that capture different dimensions of migration connectivity.</p>
<p>The various connectivity measures can be broadly categorized into five groups: connectivity, inequity, Gini coefficients, spatial focusing, and coefficient of variation. These measures capture different aspects of the overall concentration of migration flows in a system, whilst two of the measures also offer extended perspectives on the concentration in-migration and out-migration flow totals.</p>
<ol style="list-style-type: decimal">
<li><p>Connectivity measures assess the number of connections between regions.</p></li>
<li><p>Inequity measures examine the distribution of migration flows across regions, in comparisons to expected migration flows under different assumptions.</p></li>
<li><p>Gini coefficients, commonly used in economic inequality analysis, can also be applied to migration data to measure the concentration or dispersion of migration flows among regions.</p></li>
<li><p>Spatial focusing measures identify the extent to which migration is concentrated or dispersed, indicating the level of spatial clustering or scattering of migrants across regions.</p></li>
<li><p>Coefficient of variation measures the variability or diversity of migration flows across regions, providing insights into the heterogeneity of migration patterns.</p></li>
</ol>
<p>The <code>index_connectivity()</code> function in the <em>migest</em> package offers 11 different measures that capture various aspects of migration connectivity from these five groups. To calculate the measures, a user can provide a matrix or data frame containing the migration flows as input to the function. If using a data frame, the function assumes that the flows are specified in a column with the name “flow.” However, if your data frame uses a different column name for the flows, you can specify it using the “flow_col” argument.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="summary-migration-indices.html#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">index_connectivity</span>(<span class="at">m =</span> kor_mig_2020)</span></code></pre></div>
<pre><code>## # A tibble: 11 × 2
##    measure                  value
##    &lt;chr&gt;                    &lt;dbl&gt;
##  1 connectivity            1     
##  2 inequality_equal        0.541 
##  3 inequality_sim          0.281 
##  4 gini_total              0.709 
##  5 gini_orig_standardized  0.0493
##  6 gini_dest_standardized  0.0517
##  7 mwg_orig                0.0370
##  8 mwg_dest                0.0389
##  9 mwg_mean                0.0379
## 10 cv                     17.9   
## 11 acv                     3.43</code></pre>
<p>In the following subsection we discuss in more detail each of these measures in more detail</p>
<div id="connectivity" class="section level3 hasAnchor" number="4.3.1">
<h3><span class="header-section-number">4.3.1</span> Connectivity<a href="summary-migration-indices.html#connectivity" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The simplest connectivity (<code>connectivity</code> in the output above) evaluates the proportion of non-zero migration flows, excluding within-region flows. This measure is particularly useful when dealing with regions where populations are relatively smaller, which is more common when there are many administrative units. For the South Korea data used above, all migration corridors had non-zero migration flows during 2020</p>
</div>
<div id="inequality" class="section level3 hasAnchor" number="4.3.2">
<h3><span class="header-section-number">4.3.2</span> Inequality<a href="summary-migration-indices.html#inequality" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The inequality measures discussed by Bell (2002) are based on the distribution of observed flows compared to the expected distribution. The <code>inequality_equal</code> measure quantifies the distance between the observed flows and an expected distribution where all flows are equal. The <code>inequality_sim</code> measure quantifies the distance between the observed flows and an expected distribution derived from a spatial interaction model, such as a Poisson regression model for an independence fit.</p>
<p><span class="math display">\[
\widehat{\log(m_{ij})} = \beta_0 + \beta_{1i} \texttt{origin} + \beta_{2j} \texttt{destination}
\]</span></p>
<p>Both inequality measures range from 0 to 1, where a value of 0 indicates that the observed flows match the expected values, suggesting some form of equality, while a value of 1 represents the maximum distance between the observed flows and the expected flows, indicating maximum inequality in the distribution of migration flows.</p>
</div>
<div id="gini-measures" class="section level3 hasAnchor" number="4.3.3">
<h3><span class="header-section-number">4.3.3</span> Gini measures<a href="summary-migration-indices.html#gini-measures" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The Gini migration measures provide insights into the spatial focusing of a migration system, assessing the extent to which migration flows are concentrated in specific corridors compared to others. They are calculated by comparing each flow in the migration matrix with every other flow to determine the degree of spatial focusing.</p>
<p>The <code>gini_total</code> measure quantifies the overall spatial focusing in the migration flows. A value of zero indicates an equal distribution of flows across all corridors, indicating no spatial focusing. On the other hand, a value of 1 indicates maximum spatial focusing, where migration is concentrated in a single corridor.</p>
<p>In addition to the <code>gini_total</code> measure, the <code>gini_orig_standardized</code> and <code>gini_dest_standardized</code> values provide insights into the spatial focusing from the perspectives of origin and destination regions, respectively. These measures compare the outflows from each origin region or the inflows to each destination region, respectively, to assess the spatial concentration of the migration patterns. The standardized values ensure that the range of these measures is between 0 and 1, with zero indicating no spatial focusing.</p>
</div>
<div id="spatial-focusing" class="section level3 hasAnchor" number="4.3.4">
<h3><span class="header-section-number">4.3.4</span> Spatial Focusing<a href="summary-migration-indices.html#spatial-focusing" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The migration weighted Gini indexes specifically <code>mwg_orig</code> and <code>mwg_dest</code>, offer measures of focusing for the total in-migration and out-migration, respectively. , Also proposed by <span class="citation">Bell et al. (<a href="#ref-Bell2002" role="doc-biblioref">2002</a>)</span>, these indexes assess the degree to which migration flows are concentrated in specific origins or destinations. A value of zero indicates no spatial focusing, while a value of 1 suggests that all migration flows pass through a single origin or destination.</p>
<p>Additionally, the <code>mwg_mean</code> measure provides a system-wide measure of focusing for all migration totals. It is calculated as a simple average of <code>mwg_orig</code> and <code>mwg_dest</code>. Similar to the other Gini measures, the <code>mwg_mean</code> value ranges between zero and 1, with zero indicating no spatial focusing and 1 indicating a high concentration of migration in a single origin or destination.</p>
</div>
<div id="coefficient-of-variation" class="section level3 hasAnchor" number="4.3.5">
<h3><span class="header-section-number">4.3.5</span> Coefficient of Variation<a href="summary-migration-indices.html#coefficient-of-variation" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The coefficient of variation (<code>cv</code> in the output from the <code>index_connectivity()</code> function above), as proposed by <span class="citation">Rogers and Raymer (<a href="#ref-Rogers1998" role="doc-biblioref">1998</a>)</span>, is a measure provided by the function that compares the mean of migration flows to the standard deviation of those flows. Unlike some of the previous measures, the coefficient of variation is not limited to a range of 0 to 1. It provides a quantitative measure of the variability in migration flows, where a higher coefficient of variation indicates greater dispersion or inequality in the flows.</p>
<p>In addition to the coefficient of variation, the aggregated system-wide coefficient of variation <span class="citation">Rogers and Raymer (<a href="#ref-Rogers1998" role="doc-biblioref">1998</a>)</span> calculates a similar measure of variation but based on the aggregate coefficient of variations of in-migration and out-migration totals. It takes into account the means and standard deviations of the total in-migration and out-migration flows. Similar to the <code>cv</code> measure, the <code>acv</code> (in the output from the <code>index_connectivity()</code> function above) is not restricted to a range of 0 to 1. It is particularly useful for making comparisons across different time periods or countries, as a rising coefficient of variation would indicate increasing inequality in migration flows or flow totals.</p>
</div>
</div>
<div id="migration-impact" class="section level2 hasAnchor" number="4.4">
<h2><span class="header-section-number">4.4</span> Migration impact<a href="summary-migration-indices.html#migration-impact" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Measures fro the impact of migration assesses the degree to which migration contributes to the transformation of human settlement patterns. In many regions around the world, migration has become or is becoming the predominant mechanism driving population redistribution. Descriptive studies often concentrate on examining net migration counts at the regional level, which reveal the direction and magnitude of population changes. However, as noted before, changes in migration volumes and may not always be revealed in net migration counts.</p>
<p>Additional measures exist to provide a more comprehensive summary of the overall effect of migration in redistributing populations across the entire system of regions. These measures take into account not only the net migration figures but also the gross migration flows between regions. By considering the complete migration picture, these measures offer insights into the broader impact of migration on population redistribution.</p>
<div id="migration-effectiveness-index" class="section level3 hasAnchor" number="4.4.1">
<h3><span class="header-section-number">4.4.1</span> Migration effectiveness index<a href="summary-migration-indices.html#migration-effectiveness-index" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The migration effectiveness index (MEI), introduced by <span class="citation">Shryock and Siegel (<a href="#ref-Shryock1976" role="doc-biblioref">1976</a>)</span>, evaluates the asymmetry or equilibrium in a migration network by comparing the sum of net migration to the migration turnover. The MEI is calculated by taking the absolute sum of net migration and dividing it by the sum of migration turnover, multiplied by 100.</p>
<p><span class="math display">\[
\texttt{MEI} = 100 \frac{\sum_{i} | \texttt{net} |}{\sum_{i} \texttt{turnover}_i} = 100 \frac{\sum_{i} | m_{+i} - m_{i+}|}{\sum_{i} m_{+i} + m_{i+}}
\]</span></p>
<p>The MEI ranges between 0 and 100. Higher values of the MEI indicate that migration is an efficient mechanism for population redistribution, as reflected by large net migration totals relative to the overall turnover. In other words, a higher MEI suggests that migration plays a significant role in reshaping the population distribution within the network.</p>
<p>Conversely, values closer to zero are generated from more balanced migration systems with less pronounced population redistribution. A lower MEI indicates a relatively equitable distribution of migration flows, where the net migration values are smaller in relation to the turnover.</p>
</div>
<div id="aggregate-net-migration-rate" class="section level3 hasAnchor" number="4.4.2">
<h3><span class="header-section-number">4.4.2</span> Aggregate net migration rate<a href="summary-migration-indices.html#aggregate-net-migration-rate" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The aggregate net migration rate (ANMR), proposed by <span class="citation">Bell et al. (<a href="#ref-Bell2002" role="doc-biblioref">2002</a>)</span>, captures the overall effect of migration on population settlement patterns. It is derived from the migration net totals and the populations of regions within a country. The ANMR replaces the denominator of the MEI formula with the population of each region, denoted as <span class="math inline">\(P_i\)</span>.</p>
<p><span class="math display">\[
\texttt{ANMR} = 100 \frac{1}{2} \frac{\sum_{i} |\texttt{net}_i|}{\sum_{i} P_i} = 100 \frac{1}{2} \frac{\sum_{i} | m_{+i} - m_{i+} |}{\sum_{i} P_i}
\]</span></p>
<p>The ANMR represents the net shift of population between regions per 100 residents in the country. Unlike the MEI, which uses migration turnover in the denominator, the ANMR utilizes the population of each region. This allows for a measurement of the net migration effect relative to the size of the population in each region.</p>
<p>The ANMR has no upper limit, as it depends on the net migration values and the population sizes of the regions. A higher ANMR indicates a larger net shift of population between regions, relative to the overall population size in the country. It reflects the magnitude of population redistribution resulting from migration.</p>
<p>Additionally, the ANMR can be seen as the product of the migration connectivity index (CMI) and the migration effectiveness index (MEI). It combines the measures of connectivity and effectiveness to provide an overall assessment of the impact of migration on population settlement patterns.</p>
</div>
<div id="preference-and-velocity" class="section level3 hasAnchor" number="4.4.3">
<h3><span class="header-section-number">4.4.3</span> Preference and velocity<a href="summary-migration-indices.html#preference-and-velocity" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The manual by the <span class="citation">United Nations Department of Economic and Social Affairs Population Division (<a href="#ref-UnitedNations1983" role="doc-biblioref">1970</a>)</span> introduces two other impact measures for migration, although these measures have become less commonly used in recent years.</p>
<p>The preference index is derived from an expected model of migration interactions based on population shares and the overall level of migration. It compares the observed migration flows (<span class="math inline">\(m_{ij}\)</span>) to an expected model where migration rates in all populations are the same.</p>
<p><span class="math display">\[
\texttt{preference} = \sum_{ij}{\frac{m_{ij}}{m_{++} \frac{p_{i}}{p_+}\frac{p_{j}}{p_+}}}
\]</span></p>
<p>where <span class="math inline">\(m_{++}\)</span> is the total migration flow, <span class="math inline">\(p_{+}\)</span> is the sum of populations in each region, and <span class="math inline">\(p_i\)</span> and <span class="math inline">\(p_j\)</span> are the population sizes of the origin and destination regions, respectively. The preference index measures the extent to which the observed flows deviate from the expected flows based on population shares and overall migration levels. There is no upper limit to the preference index.</p>
<p>The velocity index, on the other hand, is based on a migration velocity measure (<span class="math inline">\(\frac{m_{ij}}{p_{i} p_{j}}\)</span>) multiplied by the total population and summed over all migration flows. It compares the observed flows to an expected model where flow sizes are determined solely by the population sizes of the origin and destination regions.</p>
<p><span class="math display">\[
\texttt{velocity}  = \sum_{ij}{\frac{m_{ij}}{p_{i} p_{j}}{p_+}}
\]</span></p>
<p>Similar to the preference index, the velocity index has no upper limit.</p>
<p>Both the preference index and the velocity index provide measures of the deviation of observed migration flows from the expected patterns based on population sizes and overall migration levels. They offer alternative perspectives on the impact of migration on population redistribution, focusing on the relative significance of observed flows compared to expectations based on population factors alone.</p>
</div>
<div id="migration-impact-measures-in-r" class="section level3 hasAnchor" number="4.4.4">
<h3><span class="header-section-number">4.4.4</span> Migration Impact Measures in R<a href="summary-migration-indices.html#migration-impact-measures-in-r" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The <code>index_impact()</code> function in the <em>migest</em> package allows for the calculation of all four impact measures: preference index, velocity index, migration effectiveness index (MEI), and aggregate net migration rate (ANMR). This function requires a set of migration flows and population sizes in each region.</p>
<p>As with the previous index functions in the <em>migest</em> package, the migration flows can be provided as a matrix or a data frame. The function assumes that the column names for the regions and population values provided to the <code>p</code> argument are <code>region</code> and <code>pop</code>, respectively, in a data frame. If your data frame has different column names, you can specify them using the <code>reg_col</code> and <code>pop_col</code> parameters. In the code below we use the population estimates from the WorldPop group provided in the <code>Pop</code> column of the <code>kor_pw</code> ojbect created earlier.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="summary-migration-indices.html#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">index_impact</span>(<span class="at">m =</span> kor_mig_2020, <span class="at">p =</span> kor_pw, <span class="at">pop_col =</span> <span class="st">&quot;Pop&quot;</span>, <span class="at">reg_col =</span> <span class="st">&quot;Adm_N&quot;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 4 × 2
##   measure        value
##   &lt;chr&gt;          &lt;dbl&gt;
## 1 effectivness   7.67 
## 2 anmr           0.379
## 3 preference   916.   
## 4 velocity      45.3</code></pre>
</div>
</div>
<div id="applying-index-functions-multiple-times" class="section level2 hasAnchor" number="4.5">
<h2><span class="header-section-number">4.5</span> Applying index functions multiple times<a href="summary-migration-indices.html#applying-index-functions-multiple-times" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Some of the summary measures discussed above are meaningless on their own, as they have no relative scale and have been calculated in isolation. However, the index functions can be applied to compare migration systems across different areas or time periods relatively easily using R, enabling comparative analyses.</p>
<p>To apply the index functions multiple times, you can loop over the countries or time periods of interest and apply the functions within the loop. Alternatively, you can use vectorized operations or apply functions from the <em>dplyr</em> or <em>purrr</em> packages to handle multiple countries or time periods efficiently.</p>
<p>To demonstrate the application of the index functions in the <em>migest</em> package, we can use the <code>korea_reg</code> data of internal migration flows between 2012 and 2020 in South Korea. First we use the <code>group_nest()</code> function from the <em>dplyr</em> package which transforms the data frame into a grouped data frame based on the <code>year</code> column, which is a necessary step for applying the index functions. Once the data is grouped, we can then apply the <code>index_connectivity()</code> function to each row using the <code>map()</code> function from the <em>purrr</em> package. This will calculate the connectivity measures for each year in the <code>korea_reg</code> data set. We may set <code>long = FALSE</code> within the <code>index_connectivity()</code> function to allow for separate columns for each measure. These can be viewed over time using the <code>unnest()</code> function in the <em>tidyr</em> package</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="summary-migration-indices.html#cb18-1" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> korea_reg <span class="sc">%&gt;%</span></span>
<span id="cb18-2"><a href="summary-migration-indices.html#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(orig <span class="sc">!=</span> dest) <span class="sc">%&gt;%</span></span>
<span id="cb18-3"><a href="summary-migration-indices.html#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_nest</span>(year, <span class="at">.key =</span> <span class="st">&quot;mig_data&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb18-4"><a href="summary-migration-indices.html#cb18-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">connectivity =</span> <span class="fu">map</span>(<span class="at">.x =</span> mig_data, <span class="at">.f =</span> <span class="sc">~</span><span class="fu">index_connectivity</span>(.x, <span class="at">long =</span> <span class="cn">FALSE</span>)))</span>
<span id="cb18-5"><a href="summary-migration-indices.html#cb18-5" aria-hidden="true" tabindex="-1"></a>d</span></code></pre></div>
<pre><code>## # A tibble: 9 × 3
##    year           mig_data connectivity     
##   &lt;int&gt; &lt;list&lt;tibble[,3]&gt;&gt; &lt;list&gt;           
## 1  2012          [272 × 3] &lt;tibble [1 × 11]&gt;
## 2  2013          [272 × 3] &lt;tibble [1 × 11]&gt;
## 3  2014          [272 × 3] &lt;tibble [1 × 11]&gt;
## 4  2015          [272 × 3] &lt;tibble [1 × 11]&gt;
## 5  2016          [272 × 3] &lt;tibble [1 × 11]&gt;
## 6  2017          [272 × 3] &lt;tibble [1 × 11]&gt;
## 7  2018          [272 × 3] &lt;tibble [1 × 11]&gt;
## 8  2019          [272 × 3] &lt;tibble [1 × 11]&gt;
## 9  2020          [272 × 3] &lt;tibble [1 × 11]&gt;</code></pre>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="summary-migration-indices.html#cb20-1" aria-hidden="true" tabindex="-1"></a>d <span class="sc">%&gt;%</span></span>
<span id="cb20-2"><a href="summary-migration-indices.html#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest</span>(connectivity)</span></code></pre></div>
<pre><code>## # A tibble: 9 × 13
##    year         mig_data conne…¹ inequ…² inequ…³ gini_…⁴ gini_…⁵ gini_…⁶ mwg_o…⁷
##   &lt;int&gt; &lt;list&lt;tibble[,3&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
## 1  2012        [272 × 3]       1   0.554   0.266   0.718  0.0500  0.0498  0.0380
## 2  2013        [272 × 3]       1   0.552   0.270   0.717  0.0501  0.0499  0.0381
## 3  2014        [272 × 3]       1   0.542   0.282   0.707  0.0507  0.0495  0.0380
## 4  2015        [272 × 3]       1   0.537   0.284   0.703  0.0509  0.0496  0.0378
## 5  2016        [272 × 3]       1   0.541   0.277   0.707  0.0505  0.0502  0.0376
## 6  2017        [272 × 3]       1   0.538   0.285   0.703  0.0502  0.0506  0.0374
## 7  2018        [272 × 3]       1   0.541   0.281   0.707  0.0497  0.0511  0.0370
## 8  2019        [272 × 3]       1   0.537   0.280   0.703  0.0493  0.0514  0.0366
## 9  2020        [272 × 3]       1   0.541   0.281   0.709  0.0493  0.0517  0.0370
## # … with 4 more variables: mwg_dest &lt;dbl&gt;, mwg_mean &lt;dbl&gt;, cv &lt;dbl&gt;, acv &lt;dbl&gt;,
## #   and abbreviated variable names ¹​connectivity, ²​inequality_equal,
## #   ³​inequality_sim, ⁴​gini_total, ⁵​gini_orig_standardized,
## #   ⁶​gini_dest_standardized, ⁷​mwg_orig</code></pre>
<p>This approach allows for easy comparison and analysis of migration systems between different areas or time periods. For example, we can see that connectivity measures such as the <code>inequality_equal</code> and <code>gini_total</code> showed a decreases after initial higher values during 2012 and 2013 in the proceeding seven years from 2014 to 2020.</p>
<p>We can use similar code to calculate the distance indices</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="summary-migration-indices.html#cb22-1" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> d <span class="sc">%&gt;%</span></span>
<span id="cb22-2"><a href="summary-migration-indices.html#cb22-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">distance =</span> <span class="fu">map</span>(<span class="at">.x =</span> mig_data, <span class="at">.f =</span> <span class="sc">~</span><span class="fu">index_distance</span>(<span class="at">m =</span> .x, <span class="at">d =</span> kor_dist_pw, <span class="at">long =</span> <span class="cn">FALSE</span>)))</span>
<span id="cb22-3"><a href="summary-migration-indices.html#cb22-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-4"><a href="summary-migration-indices.html#cb22-4" aria-hidden="true" tabindex="-1"></a>d <span class="sc">%&gt;%</span></span>
<span id="cb22-5"><a href="summary-migration-indices.html#cb22-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(year, distance) <span class="sc">%&gt;%</span></span>
<span id="cb22-6"><a href="summary-migration-indices.html#cb22-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest</span>(distance)</span></code></pre></div>
<pre><code>## # A tibble: 9 × 4
##    year  mean median  decay
##   &lt;int&gt; &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
## 1  2012  108.   76   -0.784
## 2  2013  107.   76   -0.795
## 3  2014  108.   76   -0.816
## 4  2015  108.   76   -0.828
## 5  2016  107.   76   -0.820
## 6  2017  108.   75.8 -0.839
## 7  2018  107.   74.8 -0.839
## 8  2019  107.   75.8 -0.836
## 9  2020  105.   68.7 -0.852</code></pre>
<p>The measures illustrate a decline in the mean and median distances over the nine years, whilst the distance decay parameter increases - again implying declining shorter migration distances.</p>
<p>The impact and intensity measures require additional data on populatino sizes, which are provided in the <code>korea_pop</code> data frame in the <em>migest</em> package. These can be added to the data frame of the index calcaulations once nested</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="summary-migration-indices.html#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># add population data</span></span>
<span id="cb24-2"><a href="summary-migration-indices.html#cb24-2" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> korea_pop <span class="sc">%&gt;%</span></span>
<span id="cb24-3"><a href="summary-migration-indices.html#cb24-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_nest</span>(year, <span class="at">.key =</span> <span class="st">&quot;pop_data&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb24-4"><a href="summary-migration-indices.html#cb24-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">right_join</span>(d, <span class="at">by =</span> <span class="st">&quot;year&quot;</span>)</span>
<span id="cb24-5"><a href="summary-migration-indices.html#cb24-5" aria-hidden="true" tabindex="-1"></a>d</span></code></pre></div>
<pre><code>## # A tibble: 9 × 5
##    year           pop_data           mig_data connectivity      distance        
##   &lt;int&gt; &lt;list&lt;tibble[,2]&gt;&gt; &lt;list&lt;tibble[,3]&gt;&gt; &lt;list&gt;            &lt;list&gt;          
## 1  2012           [17 × 2]          [272 × 3] &lt;tibble [1 × 11]&gt; &lt;tibble [1 × 3]&gt;
## 2  2013           [17 × 2]          [272 × 3] &lt;tibble [1 × 11]&gt; &lt;tibble [1 × 3]&gt;
## 3  2014           [17 × 2]          [272 × 3] &lt;tibble [1 × 11]&gt; &lt;tibble [1 × 3]&gt;
## 4  2015           [17 × 2]          [272 × 3] &lt;tibble [1 × 11]&gt; &lt;tibble [1 × 3]&gt;
## 5  2016           [17 × 2]          [272 × 3] &lt;tibble [1 × 11]&gt; &lt;tibble [1 × 3]&gt;
## 6  2017           [17 × 2]          [272 × 3] &lt;tibble [1 × 11]&gt; &lt;tibble [1 × 3]&gt;
## 7  2018           [17 × 2]          [272 × 3] &lt;tibble [1 × 11]&gt; &lt;tibble [1 × 3]&gt;
## 8  2019           [17 × 2]          [272 × 3] &lt;tibble [1 × 11]&gt; &lt;tibble [1 × 3]&gt;
## 9  2020           [17 × 2]          [272 × 3] &lt;tibble [1 × 11]&gt; &lt;tibble [1 × 3]&gt;</code></pre>
<p>Two data sets in each year can be passed to the <code>index_impact()</code> function using the <code>map2()</code> function in the <em>purrr</em> package</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="summary-migration-indices.html#cb26-1" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> d <span class="sc">%&gt;%</span></span>
<span id="cb26-2"><a href="summary-migration-indices.html#cb26-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">impact =</span> <span class="fu">map2</span>(<span class="at">.x =</span> mig_data, <span class="at">.y =</span> pop_data, </span>
<span id="cb26-3"><a href="summary-migration-indices.html#cb26-3" aria-hidden="true" tabindex="-1"></a>                       <span class="at">.f =</span> <span class="sc">~</span><span class="fu">index_impact</span>(<span class="at">m =</span> .x, <span class="at">p =</span> .y, <span class="at">pop_col =</span> <span class="st">&quot;population&quot;</span>, <span class="at">long =</span> <span class="cn">FALSE</span>)))</span></code></pre></div>
<p>The intensity measures require only the migration and population totals in each year. These can be calculated by summing the appropriate columns in each data frame and passing the totals to the <code>index_intensity()</code> function</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="summary-migration-indices.html#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># calculate migration and population totals for intensity measure</span></span>
<span id="cb27-2"><a href="summary-migration-indices.html#cb27-2" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> d <span class="sc">%&gt;%</span></span>
<span id="cb27-3"><a href="summary-migration-indices.html#cb27-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">mig_total =</span> <span class="fu">map_dbl</span>(<span class="at">.x =</span> mig_data, <span class="at">.f =</span> <span class="sc">~</span><span class="fu">sum</span>(.x<span class="sc">$</span>flow)),</span>
<span id="cb27-4"><a href="summary-migration-indices.html#cb27-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">pop_total =</span> <span class="fu">map_dbl</span>(<span class="at">.x =</span> pop_data, <span class="at">.f =</span> <span class="sc">~</span><span class="fu">sum</span>(.x<span class="sc">$</span>population)),</span>
<span id="cb27-5"><a href="summary-migration-indices.html#cb27-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">intensity =</span> <span class="fu">map2</span>(<span class="at">.x =</span> mig_total, <span class="at">.y =</span> pop_total, </span>
<span id="cb27-6"><a href="summary-migration-indices.html#cb27-6" aria-hidden="true" tabindex="-1"></a>                          <span class="at">.f =</span> <span class="sc">~</span><span class="fu">index_intensity</span>(<span class="at">mig_total =</span> .x, <span class="at">pop_total =</span> .y, <span class="at">n =</span> <span class="dv">17</span>, <span class="at">long =</span> <span class="cn">FALSE</span>)))</span>
<span id="cb27-7"><a href="summary-migration-indices.html#cb27-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-8"><a href="summary-migration-indices.html#cb27-8" aria-hidden="true" tabindex="-1"></a>d <span class="sc">%&gt;%</span></span>
<span id="cb27-9"><a href="summary-migration-indices.html#cb27-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(year, <span class="fu">contains</span>(<span class="st">&quot;total&quot;</span>), intensity) <span class="sc">%&gt;%</span></span>
<span id="cb27-10"><a href="summary-migration-indices.html#cb27-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest</span>(intensity)</span></code></pre></div>
<pre><code>## # A tibble: 9 × 5
##    year mig_total pop_total   cmp courgeau_k
##   &lt;int&gt;     &lt;dbl&gt;     &lt;dbl&gt; &lt;dbl&gt;      &lt;dbl&gt;
## 1  2012   2512740  50948272  4.93      0.870
## 2  2013   2423429  51141463  4.74      0.836
## 3  2014   2507796  51327916  4.89      0.862
## 4  2015   2551424  51529338  4.95      0.874
## 5  2016   2453342  51696216  4.75      0.838
## 6  2017   2410930  51778544  4.66      0.822
## 7  2018   2429184  51826059  4.69      0.827
## 8  2019   2384948  51849861  4.60      0.812
## 9  2020   2534114  51829023  4.89      0.863</code></pre>
<p>In the case of South Korea, there does not appear to be a general trend for either intensity measure over the nine year period.</p>

<div id="refs" class="references csl-bib-body hanging-indent">
<div class="csl-entry">
Bell, Martin, Marcus Blake, Paul Boyle, O. Duke-Williams, Philip H. Rees, John Stillwell, and Graeme John Hugo. 2002. <span>“<span class="nocase">Cross-national comparison of internal migration: issues and measures</span>.”</span> <em>Journal of the Royal Statistical Society: Series A (Statistics in Society)</em> 165 (3): 435–64. <a href="https://doi.org/10.1111/1467-985X.00247">https://doi.org/10.1111/1467-985X.00247</a>.
</div>
<div class="csl-entry">
Bell, Martin, Elin Charles-Edwards, Dorota Kupiszewska, Marek Kupiszewski, John Stillwell, and Yu Zhu. 2015. <span>“<span class="nocase">Internal Migration Data Around the World: Assessing Contemporary Practice</span>.”</span> <em>Population, Space and Place</em> 21 (1): 1–17. <a href="https://doi.org/10.1002/psp.1848">https://doi.org/10.1002/psp.1848</a>.
</div>
<div class="csl-entry">
Bell, Martin, Elin Charles-Edwards, Philipp Ueffing, John Stillwell, Marek Kupiszewski, and Dorota Kupiszewska. 2015. <span>“<span class="nocase">Internal Migration and Development: Comparing Migration Intensities Around the World</span>.”</span> <em>Population and Development Review</em> 41 (1): 33–58. <a href="https://doi.org/10.1111/j.1728-4457.2015.00025.x">https://doi.org/10.1111/j.1728-4457.2015.00025.x</a>.
</div>
<div class="csl-entry">
Bernard, Aude, Martin Bell, and Elin Charles-Edwards. 2014. <span>“<span class="nocase">Improved measures for the cross-national comparison of age profiles of internal migration</span>.”</span> <em>Population Studies</em> 68 (2): 179–95. <a href="https://doi.org/10.1080/00324728.2014.890243">https://doi.org/10.1080/00324728.2014.890243</a>.
</div>
<div class="csl-entry">
Edwards, Robin, Maksym Bondarenko, Alessandro Sorichetta, and Andrew J. Tatem. 2021. <span>“<span class="nocase">Unconstrained subnational Population Weighted Density in 2000, 2005, 2010, 2015 and 2020 ( 100m resolution )</span>.”</span> Southampton, UK: WorldPop, University of Southampton, UK. <a href="https://doi.org/10.5258/SOTON/WP00703">https://doi.org/10.5258/SOTON/WP00703</a>.
</div>
<div class="csl-entry">
Rees, Philip H., Martin Bell, Marek Kupiszewski, Dorota Kupiszewska, Philipp Ueffing, Aude Bernard, Elin Charles-Edwards, and John Stillwell. 2016. <span>“<span class="nocase">The Impact of Internal Migration on Population Redistribution: an International Comparison</span>.”</span> <em>Population, Space and Place</em>, no. April. <a href="https://doi.org/10.1002/psp.2036">https://doi.org/10.1002/psp.2036</a>.
</div>
<div class="csl-entry">
Rogers, Andrei, and James Raymer. 1998. <span>“<span class="nocase">The Spatial Focus of US Interstate Migration Flows</span>.”</span> <em>International Journal of Population Geography</em> 4 (1): 63–80. <a href="https://doi.org/10.1002/(SICI)1099-1220(199803)4%3A1&lt;63%3A%3AAID-IJPG87&gt;3.0.CO%3B2-U">https://doi.org/10.1002/(SICI)1099-1220(199803)4%3A1&lt;63%3A%3AAID-IJPG87&gt;3.0.CO%3B2-U</a>.
</div>
<div class="csl-entry">
Shryock, Henry S., and Jacob S. Siegel. 1976. <em><span class="nocase">The Methods and Materials of Demography.</span></em> Edited by Edward G. Stockwell. Condensed. San Diego, California: Academic Press.
</div>
<div class="csl-entry">
Stillwell, John, Martin Bell, Philipp Ueffing, K. Daras, Elin Charles-Edwards, Marek Kupiszewski, and Dorota Kupiszewska. 2016. <span>“<span class="nocase">Internal migration around the world: comparing distance travelled and its frictional effect</span>.”</span> <em>Environment and Planning A</em> 48 (8): 1657–75. <a href="https://doi.org/10.1177/0308518X16643963">https://doi.org/10.1177/0308518X16643963</a>.
</div>
<div class="csl-entry">
United Nations Department of Economic and Social Affairs Population Division. 1970. <em><span class="nocase">Methods of measuring internal migration.</span></em> 15. New York, New York, USA: United Nations Publication. <a href="https://doi.org/10.2307/3002465">https://doi.org/10.2307/3002465</a>.
</div>
</div>
</div>
</div>
<h3>References</h3>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-Bell2002" class="csl-entry">
Bell, Martin, Marcus Blake, Paul Boyle, O. Duke-Williams, Philip H. Rees, John Stillwell, and Graeme John Hugo. 2002. <span>“<span class="nocase">Cross-national comparison of internal migration: issues and measures</span>.”</span> <em>Journal of the Royal Statistical Society: Series A (Statistics in Society)</em> 165 (3): 435–64. <a href="https://doi.org/10.1111/1467-985X.00247">https://doi.org/10.1111/1467-985X.00247</a>.
</div>
<div id="ref-Bell2015a" class="csl-entry">
Bell, Martin, Elin Charles-Edwards, Dorota Kupiszewska, Marek Kupiszewski, John Stillwell, and Yu Zhu. 2015. <span>“<span class="nocase">Internal Migration Data Around the World: Assessing Contemporary Practice</span>.”</span> <em>Population, Space and Place</em> 21 (1): 1–17. <a href="https://doi.org/10.1002/psp.1848">https://doi.org/10.1002/psp.1848</a>.
</div>
<div id="ref-Bell2015" class="csl-entry">
Bell, Martin, Elin Charles-Edwards, Philipp Ueffing, John Stillwell, Marek Kupiszewski, and Dorota Kupiszewska. 2015. <span>“<span class="nocase">Internal Migration and Development: Comparing Migration Intensities Around the World</span>.”</span> <em>Population and Development Review</em> 41 (1): 33–58. <a href="https://doi.org/10.1111/j.1728-4457.2015.00025.x">https://doi.org/10.1111/j.1728-4457.2015.00025.x</a>.
</div>
<div id="ref-Bernard2014" class="csl-entry">
Bernard, Aude, Martin Bell, and Elin Charles-Edwards. 2014. <span>“<span class="nocase">Improved measures for the cross-national comparison of age profiles of internal migration</span>.”</span> <em>Population Studies</em> 68 (2): 179–95. <a href="https://doi.org/10.1080/00324728.2014.890243">https://doi.org/10.1080/00324728.2014.890243</a>.
</div>
<div id="ref-Edwards2021" class="csl-entry">
Edwards, Robin, Maksym Bondarenko, Alessandro Sorichetta, and Andrew J. Tatem. 2021. <span>“<span class="nocase">Unconstrained subnational Population Weighted Density in 2000, 2005, 2010, 2015 and 2020 ( 100m resolution )</span>.”</span> Southampton, UK: WorldPop, University of Southampton, UK. <a href="https://doi.org/10.5258/SOTON/WP00703">https://doi.org/10.5258/SOTON/WP00703</a>.
</div>
<div id="ref-Rees2016" class="csl-entry">
Rees, Philip H., Martin Bell, Marek Kupiszewski, Dorota Kupiszewska, Philipp Ueffing, Aude Bernard, Elin Charles-Edwards, and John Stillwell. 2016. <span>“<span class="nocase">The Impact of Internal Migration on Population Redistribution: an International Comparison</span>.”</span> <em>Population, Space and Place</em>, no. April. <a href="https://doi.org/10.1002/psp.2036">https://doi.org/10.1002/psp.2036</a>.
</div>
<div id="ref-Rogers1998" class="csl-entry">
Rogers, Andrei, and James Raymer. 1998. <span>“<span class="nocase">The Spatial Focus of US Interstate Migration Flows</span>.”</span> <em>International Journal of Population Geography</em> 4 (1): 63–80. <a href="https://doi.org/10.1002/(SICI)1099-1220(199803)4%3A1&lt;63%3A%3AAID-IJPG87&gt;3.0.CO%3B2-U">https://doi.org/10.1002/(SICI)1099-1220(199803)4%3A1&lt;63%3A%3AAID-IJPG87&gt;3.0.CO%3B2-U</a>.
</div>
<div id="ref-Shryock1976" class="csl-entry">
Shryock, Henry S., and Jacob S. Siegel. 1976. <em><span class="nocase">The Methods and Materials of Demography.</span></em> Edited by Edward G. Stockwell. Condensed. San Diego, California: Academic Press.
</div>
<div id="ref-Stillwell2016" class="csl-entry">
Stillwell, John, Martin Bell, Philipp Ueffing, K. Daras, Elin Charles-Edwards, Marek Kupiszewski, and Dorota Kupiszewska. 2016. <span>“<span class="nocase">Internal migration around the world: comparing distance travelled and its frictional effect</span>.”</span> <em>Environment and Planning A</em> 48 (8): 1657–75. <a href="https://doi.org/10.1177/0308518X16643963">https://doi.org/10.1177/0308518X16643963</a>.
</div>
<div id="ref-UnitedNations1983" class="csl-entry">
United Nations Department of Economic and Social Affairs Population Division. 1970. <em><span class="nocase">Methods of measuring internal migration.</span></em> 15. New York, New York, USA: United Nations Publication. <a href="https://doi.org/10.2307/3002465">https://doi.org/10.2307/3002465</a>.
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="handling-migration-data-in-r.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/03-indices.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
